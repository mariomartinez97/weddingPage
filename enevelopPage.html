<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wedding Envelope → Invitation</title>

  <!-- Fallback if Edwardian Script ITC isn't installed -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #f6f3ef;
      --paper: #ffffff;
      --env: #9B966A;
      --env-dark: #9B966A;
      --shadow: rgba(0, 0, 0, .18);
      --text: #2b2b2b;
      --accent: #7a9b7e;
      /* sage */
    }

    /* Center whole experience */
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at top, #fff, var(--bg));
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      overflow-x: hidden;
    }

    /* Full viewport container so absolute pages can center correctly */
    .wrap {
      position: relative;
      width: min(720px, 92vw);
      height: 100vh;
      /* gives pages a real height */
      max-height: 720px;
      /* keeps it centered and not too tall */
      min-height: 560px;
      /* enough room on small screens */
    }

    /* Pages (same HTML, “new page” via transition) */
    .page {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 520ms ease;
    }

    .page.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* ---------------- Page 1: Envelope ---------------- */
    .stage {
      position: relative;
      width: 100%;
      height: 100%;
      display: grid;
      place-items: center;
      perspective: 1200px;
      overflow: visible;
    }

    .enter {
      transform: translateY(520px) scale(.98);
      opacity: 0;
      animation: enter 1000ms cubic-bezier(.2, .9, .2, 1) forwards;
    }

    @keyframes enter {
      0% {
        transform: translateY(520px) scale(.98);
        opacity: 0;
      }

      70% {
        transform: translateY(-6px) scale(1);
        opacity: 1;
      }

      85% {
        transform: translateY(10px) scale(1);
      }

      100% {
        transform: translateY(0px) scale(1);
        opacity: 1;
      }
    }

    .flip {
      width: 570px;
      height: 390px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 900ms cubic-bezier(.2, .9, .2, 1),
        opacity 520ms ease,
        filter 520ms ease;
      cursor: pointer;
      user-select: none;
      outline: none;
    }

    .flip.is-back {
      transform: rotateY(180deg);
    }

    .flip.fade-out {
      opacity: 0;
      filter: blur(4px);
      transform: translateY(12px) rotateY(180deg);
      pointer-events: none;
    }

    .face {
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      transform-style: preserve-3d;
    }

    .back-face {
      transform: rotateY(180deg);
    }

    /* FRONT */
    .front-face {
      display: grid;
      place-items: center;
    }

    .front-card {
      position: absolute;
      inset: 0;
      border-radius: 18px;
      background: var(--env);
      box-shadow: 0 18px 40px var(--shadow);
      overflow: hidden;
    }

    .front-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 20% 15%, rgba(122, 155, 126, .18), transparent 40%),
        radial-gradient(circle at 75% 20%, rgba(0, 0, 0, .06), transparent 50%);
      pointer-events: none;
    }

    .to-label {
      position: relative;
      text-align: center;
      padding: 22px;
      z-index: 1;
    }

    /* ✅ Invitee names font (front + paper) */
    .invitee-font {
      font-family: "Edwardian Script ITC", "Great Vibes", cursive;
      font-weight: 400;
      letter-spacing: .02em;
    }

    .to-label .small {
      font-size: .9rem;
      letter-spacing: .18em;
      text-transform: uppercase;
      opacity: .65;
      margin-bottom: 10px;
    }

    .to-label .names {
      font-size: 3.1rem;
      margin-bottom: 6px;
    }

    .to-label .hint {
      display: inline-block;
      margin-top: 8px;
      font-size: .92rem;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, .12);
      background: rgba(122, 155, 126, .08);
      opacity: .9;
    }

    /* BACK (simple “back of envelope”) */
    .envelope {
      position: relative;
      width: 570px;
      height: 390px;
      transform: translateZ(1px);
    }

    .base {
      position: absolute;
      inset: 0;
      background: var(--env);
      border-radius: 18px;
      box-shadow: 0 18px 40px var(--shadow);
      overflow: hidden;
    }

    .backTri {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, var(--env-dark), var(--env));
      clip-path: polygon(0 0, 100% 0, 50% 58%);
      opacity: .55;
      pointer-events: none;
    }

    .left {
      position: absolute;
      inset: 0;
      background: var(--env-dark);
      clip-path: polygon(0 0, 50% 58%, 0 100%);
      opacity: .92;
      pointer-events: none;
    }

    .right {
      position: absolute;
      inset: 0;
      background: var(--env-dark);
      clip-path: polygon(100% 0, 50% 58%, 100% 100%);
      opacity: .85;
      pointer-events: none;
    }

    .bottom {
      position: absolute;
      inset: 0;
      background: var(--env);
      clip-path: polygon(0 100%, 50% 58%, 100% 100%);
      pointer-events: none;
    }

    .flap {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, #8c875f, var(--env-dark));
      clip-path: polygon(0 0, 100% 0, 50% 58%);
      transform-origin: 50% 0%;
      transform: rotateX(0deg);
      transition: transform 800ms cubic-bezier(.2, .9, .2, 1);
      z-index: 3;
    }

    .seal {
      position: absolute;
      left: 50%;
      top: 54%;
      transform: translate(-50%, -50%);
      width: 86px;
      height: 86px;

      background-image: url("wax-seal.png");
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;

      /* IMPORTANT: remove border-radius for irregular wax */
      /* border-radius: 50%; */

      /* IMPORTANT: use drop-shadow instead of box-shadow */
      filter: drop-shadow(0 14px 26px rgba(0, 0, 0, .22));

      z-index: 6;
      transition: transform 700ms cubic-bezier(.2, .9, .2, 1), opacity 350ms ease;
      pointer-events: none;
    }



    /* ---------------- Page 2: Invitation paper ---------------- */
    .paper-stage {
      width: 100%;
      height: 100%;
      display: grid;
      place-items: center;
    }

    .paper {
      width: min(520px, 92vw);
      background: var(--paper);
      border-radius: 22px;
      box-shadow: 0 22px 60px var(--shadow);
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(30px) scale(.985);
      animation: paperIn 720ms cubic-bezier(.2, .9, .2, 1) forwards;
    }

    @keyframes paperIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .paper::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 25% 15%, rgba(122, 155, 126, .16), transparent 42%),
        radial-gradient(circle at 80% 20%, rgba(122, 155, 126, .10), transparent 46%);
      pointer-events: none;
    }

    .paper-inner {
      padding: 34px 28px 28px;
      text-align: center;
      position: relative;
    }

    .paper-top {
      font-size: .9rem;
      letter-spacing: .22em;
      text-transform: uppercase;
      opacity: .62;
      margin-bottom: 14px;
    }

    .paper-invitee {
      font-size: 4.0rem;
      margin: 0 0 6px;
      line-height: 1.0;
    }

    .paper-line {
      width: 70px;
      height: 2px;
      background: rgba(0, 0, 0, .12);
      margin: 18px auto;
      border-radius: 999px;
    }

    .paper-body {
      font-size: 1.05rem;
      line-height: 1.6;
      opacity: .88;
      margin: 0 0 18px;
    }

    .details {
      display: grid;
      gap: 10px;
      margin-top: 18px;
      justify-items: center;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 12px 14px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, .12);
      background: rgba(0, 0, 0, .02);
      font-size: .95rem;
      width: min(520px, 92vw);
      max-width: 420px;
      box-sizing: border-box;
    }

    .label {
      font-weight: 750;
      opacity: .85;
    }

    .value {
      opacity: .85;
    }

    .back-btn {
      margin-top: 18px;
      display: inline-block;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(0, 0, 0, .12);
      background: rgba(122, 155, 126, .08);
      cursor: pointer;
      font-size: .95rem;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    @media (max-width: 420px) {
      .wrap {
        max-height: 680px;
        min-height: 560px;
      }

      .flip,
      .envelope {
        width: min(495px, 92vw);
        height: auto;
      }

      .flip {
        aspect-ratio: 570 / 390;
      }

      .envelope {
        aspect-ratio: 570 / 390;
      }

      .to-label .names {
        font-size: 2.8rem;
      }

      .paper-invitee {
        font-size: 3.4rem;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .enter {
        animation: none;
        opacity: 1;
        transform: none;
      }

      .paper {
        animation: none;
        opacity: 1;
        transform: none;
      }

      .flip,
      .flap {
        transition: none;
      }

      .page {
        transition: none;
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <!-- PAGE 1 -->
    <section class="page active" id="pageEnvelope" aria-label="Envelope">
      <div class="stage">
        <div class="enter">
          <div class="flip" id="flip" role="button" tabindex="0" aria-label="Wedding invitation envelope">
            <!-- FRONT -->
            <div class="face front-face">
              <div class="front-card"></div>
              <div class="to-label">
                <div class="small">You’re Invited</div>
                <div class="names invitee-font" id="inviteeFront">Rafaela y Juan</div>
                <div class="hint">Tap to open</div>
              </div>
            </div>

            <!-- BACK -->
            <div class="face back-face">
              <div class="envelope">
                <div class="base"></div>
                <div class="backTri"></div>
                <div class="left"></div>
                <div class="right"></div>
                <div class="bottom"></div>
                <div class="flap"></div>
                <div class="seal"></div>
              </div>
            </div>
          </div>
          <span class="sr-only" id="instructions">Tap the envelope to open the invitation.</span>
        </div>
      </div>
    </section>

    <!-- PAGE 2 -->
    <section class="page" id="pagePaper" aria-label="Invitation">
      <div class="paper-stage">
        <article class="paper" aria-live="polite">
          <div class="paper-inner">
            
            <h1 class="paper-invitee invitee-font" id="inviteePaper">Maria Paula</h1>
            <h1 class="paper-invitee invitee-font" id="inviteePaper">&</h1>
            <h1 class="paper-invitee invitee-font" id="inviteePaper">Mario Miguel</h1>
            <p class="paper-body">
              What began as a simple hello became our greatest adventure. Celebrate with us our “I do.”
            </p>
            
            <div class="paper-line"></div>
            <!--<div class="paper-top">Invite You</div>-->
            

            <div class="details">
              <div class="pill">
                <span class="label">Date</span>
                <span class="value" id="weddingDate">Saturday • November 28, 2026</span>
              </div>
              <div class="pill">
                <span class="label">Place</span>
                <span class="value" id="weddingPlace">Quito, Ecuador</span>
              </div>
            </div>

            <button class="back-btn" id="backBtn" type="button">RSVP & Details</button>
          </div>
        </article>
      </div>
    </section>
  </div>

  <script>
    const flip = document.getElementById("flip");

    const pageEnvelope = document.getElementById("pageEnvelope");
    const pagePaper = document.getElementById("pagePaper");

    const inviteeFront = document.getElementById("inviteeFront");
    const inviteePaper = document.getElementById("inviteePaper");
    const weddingDateEl = document.getElementById("weddingDate");
    const weddingPlaceEl = document.getElementById("weddingPlace");

    const backBtn = document.getElementById("backBtn");

    // Personalize via URL:
    // ?to=Rafaela%20y%20Juan&date=Saturday%20%E2%80%A2%20April%2018,%202026&place=Maple%20Grove%20Gardens,%20Toronto
    const params = new URLSearchParams(window.location.search);
    const to = params.get("to");
    const date = params.get("date");
    const place = params.get("place");

    if (to) {
      inviteeFront.textContent = to;
      inviteePaper.textContent = to;
    }
    if (date) weddingDateEl.textContent = date;
    if (place) weddingPlaceEl.textContent = place;

    // Flow:
    // Click -> flip to back -> open flap -> fade envelope -> show paper page
    const flipDuration = 900; // matches .flip transition
    const flapDuration = 800; // matches .flap transition
    const fadeDuration = 520; // matches fades

    let busy = false;

    function goToPaper() {
      pageEnvelope.classList.remove("active");
      pagePaper.classList.add("active");

      // restart paper entrance animation if user returns and opens again
      const paper = pagePaper.querySelector(".paper");
      paper.style.animation = "none";
      paper.offsetHeight; // force reflow
      paper.style.animation = "";
    }

    function goToEnvelope() {
      pagePaper.classList.remove("active");
      pageEnvelope.classList.add("active");

      // reset envelope state
      flip.classList.remove("fade-out");
      flip.classList.remove("is-open");
      flip.classList.remove("is-back");
    }

    function openAndTransition() {
      if (busy) return;
      busy = true;

      // flip to back
      flip.classList.add("is-back");

      // open flap after flip animation
      setTimeout(() => {
        flip.classList.add("is-open");
      }, flipDuration);

      // fade envelope away after flap starts opening
      setTimeout(() => {
        flip.classList.add("fade-out");
      }, flipDuration + flapDuration - 120);

      // switch to paper page
      setTimeout(() => {
        goToPaper();
        busy = false;
      }, flipDuration + flapDuration + fadeDuration - 80);
    }

    flip.addEventListener("click", openAndTransition);
    flip.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        openAndTransition();
      }
    });

    backBtn.addEventListener("click", () => {
  window.location.href = "index.html";
});

  </script>
</body>

</html>